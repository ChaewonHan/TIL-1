
# Node.js 기초

## 1. V8 엔진
  - 구글 개발자 모드에서 console에 가면 자바스크립트를 실행할 수 있었는데,
  - Node.js가 나오면서 브라우져 밖에서 자바 스크립트 코드를 실행할 수 있게 되었다.
  - Node.js는 크롬에서 사용하는 V8 엔진을 사용하고 있기 때문이다.
  - V8 엔진은 자바스크립트 코드를 해석해주는 해석기라고 볼 수 있다.

### Node.js만의 특징은
  - 이벤트 기반의 비동기 I/O 프레임워크이고,
  - CommonJS를 구현한 모듈 시스템이다.


## 2. 이벤트 기반의 비동기 I/O 프레임워크
### 2.1. 이벤트 기반 ?
  - Node.js로 만든 어플리케이션은 클라이언트에서 요청을 보내면,
  - 클라이언트의 요청을 Event로 만들어서 Event Queue에 차곡차곡 쌓는다.
  - Event Loop는 Event Queue에 있는 Event 하나 하나를 뽑아내서 실행한다.
  - Event loop는 싱글스레드이며 일을 처리하여 클라이언트에게 응답한다.
  - 즉, 'Node.js는 싱글스레드다' == 'Event loop가 싱글스레드다.'

### 2.2. 비동기 I/O ?
  - Event Loop가 바로 응답할 수 없고 더 많은 시간이 필요한 Event가 있다.
  - 예를 들어 디스크에 있는 파일을 읽거나 외부 네트워크 통신을 하는 경우 큰 자료이기 때문에,
  - Event Loop가 직접 실행하지 않고 다른 스레드에게 일을 위임한다.
  - Non-blocking Worker가 그 일을 해서 Event queue에 전달한다
  - Event Loop는 Event Queue에서 일을 받아 처리하여 클라이언트에 반환한다.


## 3. 모듈 시스템
 - 브라우저에서는 모듈을 사용하기 위해 window context를 사용하거나,
   - 브라우저에서 전역 객체인 this는 window 객체이다.
   - 자바스크립트 어느 곳에서나 window 객체는 전역으로 접근할 수 있다.
   - 모듈시스템을 구현할 때는 window.module1 = function() {return 'module1'}; 이렇게 구현하거나,
   - window를 생략해서 module1()으로 모듈을 구현했었다.
 - RequireJS 같은 의존성 로더를 사용해서 모듈을 구현했었다.
 - 하지만 Node.js에서는 새로운 형태의 모듈시스템을 구현했다.
  - 이 모듈시스템의 스펙이 되는 것은 CommonJS 이다.
  - CommonJS는 파일 형태로 모듈을 관리할 수 있게 한다.
  - 웹브라우저에서는 파일에 접근할 수 없었지만 Node.js 는 서버에서 돌아가기 때문에 파일을 읽을 수 있다.
  - 때문에 Node.js에서는 파일 하나하나를 모듈로 만들어서 관리할 수 있게 되었다
  
